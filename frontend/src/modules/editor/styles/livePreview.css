/**
 * Live Preview å®æ—¶æ¸²æŸ“æ ·å¼
 *
 * è®¾è®¡ç†å¿µï¼š
 * - Obsidian é£æ ¼ï¼šä¿ç•™ Markdown ç¬¦å·ä½†å¼±åŒ–æ˜¾ç¤º
 * - æ€§èƒ½ä¼˜å…ˆï¼šçº¯ CSS å®ç°ï¼Œé›¶ JavaScript å¼€é”€
 * - æ¸è¿›å¢å¼ºï¼šåŸºäº data-line-type å±æ€§é€‰æ‹©å™¨
 *
 * ä½¿ç”¨æ–¹å¼ï¼š
 * <div data-line-type="heading-2">## æ ‡é¢˜</div>
 */

/* ========= 1. CSS å˜é‡å®šä¹‰ï¼ˆä¸»é¢˜è‰²ç³»ï¼‰========== */

/**
 * ä½¿ç”¨ CSS å˜é‡çš„å¥½å¤„ï¼š
 * - ç»Ÿä¸€ç®¡ç†é¢œè‰²ï¼Œä¾¿äºä¸»é¢˜åˆ‡æ¢
 * - æ–¹ä¾¿åç»­æ‰©å±•æš—é»‘æ¨¡å¼
 * - æé«˜å¯ç»´æŠ¤æ€§
 */
:root {
  /* ===== Typora-Vue ä¸»é¢˜è‰²ç³» ===== */

  /* æ–‡å­—é¢œè‰² */
  --lp-heading-color: #34495e; /* æ·±è“ç° - Vue é£æ ¼æ­£æ–‡è‰² */
  --lp-text-color: #34495e; /* ä¸æ ‡é¢˜ç»Ÿä¸€ */
  --lp-token-color: #9ca3af; /* Markdown ç¬¦å·å¼±åŒ–ï¼ˆä¿æŒä¸å˜ï¼‰ */

  /* å¼•ç”¨å—é¢œè‰² - Vue ç»¿è‰²ç³» */
  --lp-quote-border: #42b983; /* Vue æ ‡å¿—æ€§ç»¿è‰²è¾¹æ¡† */
  --lp-quote-bg: rgba(66, 185, 131, 0.1); /* æµ…ç»¿é€æ˜èƒŒæ™¯ */
  --lp-quote-text: #777; /* ç°è‰²æ–‡å­—ï¼ˆVue é£æ ¼ï¼‰ */
  --lp-quote-token: #9ca3af; /* ç¬¦å·å¼±åŒ– */

  /* åˆ—è¡¨é¢œè‰² */
  --lp-list-marker: #42b983; /* Vue ç»¿è‰²åœ†ç‚¹ */

  /* ä»£ç å—é¢œè‰² - æµ…è‰²èƒŒæ™¯é£æ ¼ */
  --lp-code-bg: #f8f8f8; /* æµ…ç°èƒŒæ™¯ */
  --lp-code-text: #34495e; /* æ·±è‰²æ–‡å­— */

  /* é“¾æ¥å’Œè¡Œå†…ä»£ç  */
  --lp-link-color: #42b983; /* Vue ç»¿è‰²é“¾æ¥ */
  --lp-inline-code-color: #e96900; /* è¡Œå†…ä»£ç æ©™è‰² */
  --lp-inline-code-bg: #f8f8f8; /* è¡Œå†…ä»£ç èƒŒæ™¯ */

  /* è¾¹æ¡†é¢œè‰² */
  --lp-border-color: #ddd; /* é€šç”¨è¾¹æ¡†ï¼ˆH2åº•çº¿ç­‰ï¼‰ */
  --lp-code-border: #f4f4f4; /* ä»£ç å—è¾¹æ¡† */

  /* æ»šåŠ¨æ¡é¢œè‰² */
  --lp-scrollbar-thumb: #c4c4c4; /* æ»šåŠ¨æ¡ */
  --lp-scrollbar-hover: #a1a1a1; /* æ»šåŠ¨æ¡æ‚¬åœ */
}

/* ç¬¦å·é»˜è®¤éšè—ï¼ˆé€æ˜ï¼‰ */
.md-token {
  color: transparent;
}

/* æ¿€æ´»è¡Œï¼šç¬¦å·æ˜¾ç¤ºï¼ˆæµ…ç°ï¼‰ */
.line-active .md-token {
  color: var(--lp-token-color);
}

/* æ¸…é™¤æµè§ˆå™¨è‡ªåŠ¨ç”Ÿæˆçš„ font æ ‡ç­¾é¢œè‰²ï¼ˆcontenteditable é¢œè‰²ç»§æ‰¿é—®é¢˜ï¼‰ */
.editor-editable font[color] {
  color: inherit !important;
}

/* ================= 2. H1æ ‡é¢˜æ ·å¼ ======================*/
/**
 * H1 æ ‡é¢˜è®¾è®¡åŸåˆ™ï¼š
 * - æ•´ç¯‡æ–‡ç« åªæœ‰ä¸€ä¸ª H1ï¼ˆä½œä¸ºæ–‡ç« æ ‡é¢˜ï¼‰
 * - å­—ä½“æœ€å¤§ï¼ˆ32pxï¼‰ï¼Œè§†è§‰å±‚çº§æœ€é«˜
 * - ç¬¦å·ï¼ˆ#ï¼‰å¼±åŒ–ä½†ä¿ç•™ï¼Œä¾¿äºç¼–è¾‘
 */
.editor-editable > div[data-line-type='h1'] {
  /* å­—ä½“è®¾ç½® */
  font-size: 32px; /* å¤§å·å­—ä½“ - æ˜ç¡®çš„è§†è§‰å±‚çº§ */
  font-weight: 700; /* åŠ ç²— - å¼ºè°ƒé‡è¦æ€§ */
  line-height: 1.2; /* ç´§å‡‘è¡Œé«˜ - æ ‡é¢˜ç‰¹å¾ */

  /* é—´è·è®¾ç½® */
  margin: 24px 0 20px; /* ä¸Š24px ä¸‹20px - ä¸å†…å®¹æ˜æ˜¾åˆ†éš” */

  /* é¢œè‰²è®¾ç½® */
  color: var(--lp-heading-color); /* æ·±è‰² - é«˜å¯¹æ¯”åº¦ */
}

/* ================= 3. H2æ ‡é¢˜æ ·å¼ ======================*/
/**
 * H2 æ ‡é¢˜è®¾è®¡åŸåˆ™ï¼š
 * - ä¸»è¦ç« èŠ‚æ ‡é¢˜ï¼ˆå¯ä»¥æœ‰å¤šä¸ªï¼‰
 * - å‡ºç°åœ¨ç›®å½•å¯¼èˆªä¸­
 * - å­—ä½“ä¸­ç­‰ï¼ˆ24pxï¼‰ï¼Œæ¬¡è¦å±‚çº§
 */

.editor-editable > div[data-line-type='h2'] {
  /* å­—ä½“è®¾ç½® */
  font-size: 24px; /* ä¸­å·å­—ä½“ - æ¯” H1 å°ï¼Œæ¯”æ­£æ–‡å¤§ */
  font-weight: 600; /* åŠç²— - ä¸å¦‚ H1 é‡ï¼Œä½†æ¯”æ­£æ–‡çªå‡º */
  line-height: 1.225; /* ç•¥å®½æ¾çš„è¡Œé«˜ */

  /* é—´è·è®¾ç½® */
  margin: 35px 0 15px;
  padding-bottom: 0.5em; /* åº•éƒ¨å†…è¾¹è· */
  border-bottom: 1px solid var(--lp-border-color); /* ğŸ‘ˆ Vue ç‰¹è‰²ï¼šH2 åº•éƒ¨åˆ†éš”çº¿ */

  /* é¢œè‰²è®¾ç½® */
  color: var(--lp-heading-color);
  /* ç‚¹å‡» TOC é¡¹åï¼Œæ ‡é¢˜æ»šåŠ¨åˆ°æ­£æ–‡åŒºé¡¶éƒ¨ã€‚ */
  scroll-margin-top: 20px;
}

/* ================= 4. H3æ ‡é¢˜æ ·å¼ ======================*/
/**
 * H3 æ ‡é¢˜è®¾è®¡åŸåˆ™ï¼š
 * - ç« èŠ‚ä¸‹çš„å°èŠ‚ï¼ˆå¯ä»¥æœ‰å¤šä¸ªï¼‰
 * - å‡ºç°åœ¨ç›®å½•å¯¼èˆªä¸­ï¼ˆå¸¦ç¼©è¿›ï¼‰
 * - å­—ä½“è¾ƒå°ï¼ˆ18pxï¼‰ï¼Œç¬¬ä¸‰å±‚çº§
 */
.editor-editable > div[data-line-type='h3'] {
  /* å­—ä½“è®¾ç½® */
  font-size: 18px; /* å°å·å­—ä½“ - ä»…æ¯”æ­£æ–‡ç•¥å¤§ */
  font-weight: 600; /* åŠç²— - ä¸ H2 ä¸€è‡´ */
  line-height: 1.3;

  /* é—´è·è®¾ç½® */
  margin: 18px 0 14px; /* ä¸Š18px ä¸‹14px - æœ€å°çš„æ ‡é¢˜é—´è· */

  /* é¢œè‰²è®¾ç½® */
  color: var(--lp-heading-color);
  /* ç‚¹å‡» TOC é¡¹åï¼Œæ ‡é¢˜æ»šåŠ¨åˆ°æ­£æ–‡åŒºé¡¶éƒ¨ã€‚ */
  scroll-margin-top: 20px;
}

/* ================= 5. åˆ—è¡¨æ ·å¼ ======================*/
/**
 * åˆ—è¡¨è®¾è®¡åŸåˆ™ï¼š
 * - ç”¨ CSS ç”Ÿæˆçš„åœ†ç‚¹æ›¿ä»£ Markdown çš„ - ç¬¦å·
 * - åŸå§‹ - ç¬¦å·ä¿ç•™ä½†å¼±åŒ–ï¼ˆä¾¿äºç¼–è¾‘ï¼‰
 * - æ”¯æŒåµŒå¥—åˆ—è¡¨ï¼ˆé€šè¿‡ç¼©è¿›ï¼‰
 */
.editor-editable > div[data-line-type='ul'] {
  /* å¸ƒå±€è®¾ç½® */
  padding-left: 24px; /* å·¦ä¾§ç•™å‡ºç©ºé—´ç»™åœ†ç‚¹ */
  position: relative; /* ä¸º ::before ä¼ªå…ƒç´ å®šä½ */

  /* é—´è·è®¾ç½® */
  margin: 4px 0; /* åˆ—è¡¨é¡¹ä¹‹é—´ç´§å‡‘é—´è· */

  /* é¢œè‰²è®¾ç½® */
  color: var(--lp-text-color); /* æ­£æ–‡é¢œè‰² */
}

.editor-editable > div[data-line-type='ul']::before {
  content: 'â€¢'; /* Unicode åœ†ç‚¹ç¬¦å· */
  position: absolute; /* ç»å¯¹å®šä½ï¼Œé…åˆçˆ¶å…ƒç´ çš„ relative */
  left: 8px; /* è·ç¦»å·¦è¾¹ 8px */
  top: 0; /* é¡¶éƒ¨å¯¹é½ */
  color: var(--lp-list-marker); /* ç°è‰²åœ†ç‚¹ */
  font-weight: bold; /* åœ†ç‚¹åŠ ç²—ï¼Œæ›´æ˜æ˜¾ */
  line-height: 1.75; /* ä¸æ­£æ–‡è¡Œé«˜ä¸€è‡´ï¼Œå‚ç›´å±…ä¸­ */
}

/* ================= 6. å¼•ç”¨å—æ ·å¼ ======================*/
/**
 * å¼•ç”¨å—è®¾è®¡åŸåˆ™ï¼š
 * - å·¦ä¾§è“è‰²è¾¹æ¡†ï¼Œè§†è§‰ä¸Šæ˜ç¡®åŒºåˆ†
 * - æµ…è“è‰²èƒŒæ™¯ï¼Œæå‡å¯è¯»æ€§
 * - > ç¬¦å·å¼±åŒ–ä½†ä¿ç•™
 */
.editor-editable > div[data-line-type='quote'] {
  /* è¾¹æ¡†è®¾ç½® */
  border-left: 4px solid var(--lp-quote-border); /* å·¦ä¾§4pxè“è‰²è¾¹æ¡† */

  /* èƒŒæ™¯å’Œé¢œè‰² */
  background-color: var(--lp-quote-bg); /* æµ…è“è‰²èƒŒæ™¯ */
  color: var(--lp-quote-text); /* æ·±è“è‰²æ–‡å­— */

  /* å†…è¾¹è·å’Œé—´è· */
  padding: 12px; /* å†…è¾¹è·ï¼šä¸Šä¸‹12px å·¦å³12px */
  margin: 12px 0; /* å¤–è¾¹è·ï¼šä¸Šä¸‹12px */
}

/* ç´§è·Ÿåœ¨å¼•ç”¨å—åé¢çš„å¼•ç”¨å—ï¼šå»æ‰ä¸Šé—´è· */
.editor-editable > div[data-line-type='quote'] + div[data-line-type='quote'] {
  margin-top: -12px; /* è´ŸmarginæŠµæ¶ˆé—´è·ï¼Œè¾¹æ¡†è¿æ¥ */
  padding-top: 0; /* å»æ‰é¡¶éƒ¨å†…è¾¹è· */
}

/* ================ 7. ä»£ç å—æ ·å¼ ================   */
/**
 * ä»£ç å—è®¾è®¡åŸåˆ™ï¼š
 * - æ·±è‰²èƒŒæ™¯ + æµ…è‰²æ–‡å­—ï¼ˆä»£ç ç¼–è¾‘å™¨é£æ ¼ï¼‰
 * - ç­‰å®½å­—ä½“
 * - æ¨ªå‘æ»šåŠ¨ï¼ˆé˜²æ­¢æº¢å‡ºï¼‰
 */
.editor-editable > div[data-line-type='code-block'] {
  /* èƒŒæ™¯å’Œé¢œè‰² */
  background-color: var(--lp-code-bg);
  color: var(--lp-code-text);

  /* ğŸ‘‡ æ–°å¢ï¼šVue ä¸»é¢˜è¾¹æ¡† */
  border: 1px solid var(--lp-code-border);

  /* å­—ä½“è®¾ç½® */
  font-family: 'Monaco', 'Consolas', 'Courier New', monospace; /* ç­‰å®½å­—ä½“ */
  font-size: 14px; /* ç•¥å°çš„å­—ä½“ */

  /* å†…è¾¹è·å’Œé—´è· */
  padding: 16px; /* å†…è¾¹è· */
  margin: 16px 0; /* å¤–è¾¹è· */

  /* åœ†è§’å’Œæº¢å‡º */
  border-radius: 8px;
  overflow-x: auto; /* æ¨ªå‘æ»šåŠ¨ï¼ˆé•¿ä»£ç ï¼‰ */

  /* æ»šåŠ¨æ¡ç¾åŒ–ï¼ˆFirefox æµè§ˆå™¨ï¼‰ */
  scrollbar-width: thin;
}

/* ä»£ç å—æ»šåŠ¨æ¡ç¾åŒ–ï¼ˆChrome/Safariï¼‰ */
.editor-editable > div[data-line-type='code-block']::-webkit-scrollbar {
  height: 8px; /* æ¨ªå‘æ»šåŠ¨æ¡é«˜åº¦ */
}

.editor-editable > div[data-line-type='code-block']::-webkit-scrollbar-thumb {
  background-color: var(--lp-scrollbar-thumb); /* æµ…ç°è‰²æ»šåŠ¨æ¡ */
  border-radius: 4px;
}

.editor-editable > div[data-line-type='code-block']::-webkit-scrollbar-thumb:hover {
  background-color: var(--lp-scrollbar-hover); /* æ‚¬åœæ—¶ç¨æ·± */
}

/* ===============  8. æ™®é€šæ®µè½æ ·å¼ =================   */
/**
 * æ™®é€šæ®µè½ä¿æŒæ­£å¸¸æ ·å¼
 * ä¹Ÿå¯ä»¥æ˜ç¡®å®šä¹‰ï¼Œç¡®ä¿ä¸€è‡´æ€§
 */
.editor-editable > div[data-line-type='paragraph'] {
  margin: 8px 0; /* æ®µè½é—´è· */
  color: var(--lp-text-color); /* æ­£æ–‡é¢œè‰² */
  line-height: 1.75; /* èˆ’é€‚çš„è¡Œé«˜ */
}

/* ================ 9. è¡Œå†…ä»£ç æ ·å¼ï¼ˆé˜¶æ®µ3ä½¿ç”¨ï¼‰ ================ */
.md-inline-code {
  padding: 2px 4px;
  border-radius: 2px;
  font-family: 'Monaco', 'Consolas', 'Courier New', monospace;
  font-size: 0.92em;
  color: var(--lp-inline-code-color); /* æ©™è‰² #e96900 */
  background-color: var(--lp-inline-code-bg); /* æµ…ç° #f8f8f8 */
}
